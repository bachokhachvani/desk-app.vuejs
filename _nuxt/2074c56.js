(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(e,t,n){"use strict";n.r(t),n.d(t,"userData",(function(){return r}));var o=n(134),r=[new o.default("admin","admin@gmail.com","admin123","admin"),new o.default("manager","manager@gmail.com","manager123","room_manager")]},134:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var o=n(23),r=n(22),l=(n(26),Object(o.a)((function e(t,n,o,l){Object(r.a)(this,e),this.name=t,this.email=n,this.password=o,this.role=l||"Client",this.ownedDesks=[]})))},171:function(e,t,n){"use strict";n.r(t),n.d(t,"deskData",(function(){return r}));var o=n(47),r=[new o.default(1,"big",10,"center",1),new o.default(1,"small",5,"next to window",2),new o.default(1,"small",5,"next to door",3),new o.default(1,"big",10,"center",4),new o.default(1,"big",10,"next to window",5),new o.default(1,"big",10,"next to door",6),new o.default(2,"small",5,"center",7),new o.default(2,"small",5,"center",8),new o.default(2,"big",10,"next to door",9),new o.default(2,"big",10,"next to window",10)]},172:function(e,t,n){"use strict";n.r(t),n.d(t,"roomData",(function(){return r}));var o=n(173),r=[new o.default(1,6,"big","admin@gmail.com",1),new o.default(2,4,"small","manager@gmail.com",2)]},173:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var o=n(23),r=n(22),l=Object(o.a)((function e(t,n,o,l,c){Object(r.a)(this,e),this.id=c,this.roomNumber=t,this.roomCapacity=n,this.size=o,this.manager=l||"admin@gmail.com"}))},174:function(e,t,n){"use strict";t.a=function(e,t){e.store.dispatch("initialiseStoreWithUserAction")}},175:function(e,t,n){"use strict";t.a=function(e,t){e.store.dispatch("initialiseStoreWithRoomandDeskAction")}},224:function(e,t,n){var content=n(297);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(86).default)("9caf38b2",content,!0,{sourceMap:!1})},238:function(e,t,n){"use strict";var o=n(58),component=Object(o.a)({},(function(){var e=this._self._c;return e("div",[e("NavbarComp"),this._v(" "),e("Nuxt")],1)}),[],!1,null,null,null);t.a=component.exports;installComponents(component,{NavbarComp:n(319).default})},239:function(e,t,n){n(240),e.exports=n(241)},275:function(e,t,n){"use strict";n.r(t);n(26);t.default=function(e){var t=e.store,n=(e.from,e.route),o=e.redirect,r=t.getters.mode,l=n.name;"admin"===r||"users"!==l&&"desks"!==l||o("/home"),"guest"===r||"register"!==l&&"login"!==l||o("/home"),"guest"===r&&"profile"===l&&o("/login"),"room_manager"!==r&&"admin"!==r&&"myrooms"===l&&o("/home"),"guest"===r&&"index"===l&&o("/login"),"guest"!==r&&"index"===l&&o("/home")}},296:function(e,t,n){"use strict";n(224)},297:function(e,t,n){var o=n(85)(!1);o.push([e.i,"a[data-v-6a899ace]:visited{text-decoration:inherit;color:inherit;cursor:pointer;width:100%}",""]),e.exports=o},298:function(e,t,n){"use strict";n.r(t);n(2),n(1),n(15),n(126),n(161);var o=n(8),r=n(61),l=n(171),c=n(172),m=n(133);o.default.use(r.a),t.default=function(){return new r.a.Store({modules:{},state:function(){return{rooms:[],desks:[],isLogged:!1,user:{},users:[]}},getters:{mode:function(e){return e.isLogged?e.user.role:"guest"},user:function(e){return{user:e.user,isLogged:e.isLogged}},users:function(e){return e.users},roomData:function(e){return e.rooms},deskData:function(e){return e.desks}},mutations:{cancelRent:function(e,t){var n=e.desks.filter((function(e){return e.id==t.id}));n[0].isTaken=!1,n[0].rentWeeks=0,n[0].owner="",e.desks.map((function(e){return n.find((function(t){return t.id===e.id}))||e})),e.user.ownedDesks.splice(t.index,1);var o=e.user,r=e.users.map((function(object){return object.email})).indexOf(o.email);e.users[r].ownedDesks.splice(t.index,1),localStorage.setItem("users",JSON.stringify(e.users)),localStorage.setItem("desks",JSON.stringify(e.desks)),localStorage.setItem("userInfo",JSON.stringify({isLogged:e.isLogged,user:e.user}))},getUpdatedUsersAfterRegister:function(e,t){e.users=t.users},rentDesk:function(e,t){var n=e.desks.filter((function(e){return e.id==t.id})),o=e.user;console.log("user",e.user),n[0].isTaken=!0,n[0].rentWeeks=t.rentWeeks,n[0].owner=e.user.email,e.desks.map((function(e){return n.find((function(t){return t.id===e.id}))||e})),e.user.ownedDesks.push(n[0]);var r=e.users.map((function(object){return object.email})).indexOf(o.email);e.users[r].ownedDesks.push(n[0]),localStorage.setItem("desks",JSON.stringify(e.desks)),localStorage.setItem("users",JSON.stringify(e.users)),localStorage.setItem("userInfo",JSON.stringify({isLogged:e.isLogged,user:e.user}))},logout:function(e,t){e.isLogged=!1,e.user={},localStorage.removeItem("userInfo")},manageRoomsData:function(e,t){0!==e.rooms.length||localStorage.getItem("rooms")?0===e.rooms.length&&localStorage.getItem("rooms")&&(e.rooms=JSON.parse(localStorage.getItem("rooms"))):(localStorage.setItem("rooms",JSON.stringify(c.roomData)),e.rooms=c.roomData)},manageDesksData:function(e,t){0!==e.desks.length||localStorage.getItem("desks")?0===e.desks.length&&localStorage.getItem("desks")&&(e.desks=JSON.parse(localStorage.getItem("desks"))):(localStorage.setItem("desks",JSON.stringify(l.deskData)),e.desks=l.deskData)},getUserInfo:function(e,t){t&&(e.isLogged=t.isLogged,e.user=t.user)},initialiseStoreWithUser:function(e,t){localStorage.getItem("userInfo")&&(e.user=JSON.parse(localStorage.getItem("userInfo")).user,e.isLogged=JSON.parse(localStorage.getItem("userInfo")).isLogged)},initialiseStoreWithUsers:function(e,t){0!==e.users.length||localStorage.getItem("users")?0===e.users.length&&localStorage.getItem("users")&&(e.users=JSON.parse(localStorage.getItem("users"))):(localStorage.setItem("users",JSON.stringify(m.userData)),e.users=m.userData)}},actions:{getUser:function(e,t){t&&(e.commit("getUserInfo",{user:t.user,isLogged:t.isLogged}),t.isLogged&&localStorage.setItem("userInfo",JSON.stringify(t)))},initialiseStoreWithUserAction:function(e,t){e.commit("initialiseStoreWithUser"),e.commit("initialiseStoreWithUsers")},initialiseStoreWithRoomandDeskAction:function(e,t){e.commit("manageRoomsData"),e.commit("manageDesksData")},logoutAction:function(e,t){e.commit("logout")},rentDeskAction:function(e,t){e.commit("rentDesk",t)},getUpdatedUsersAfterRegister:function(e,t){e.commit("getUpdatedUsersAfterRegister",t)},cancelRentAction:function(e,t){e.commit("cancelRent",t)}}})}},319:function(e,t,n){"use strict";n.r(t);var o={computed:{navbarMode:function(){return this.$store.getters.mode}},methods:{registerHandler:function(){this.$router.push("/register")},loginHandler:function(){this.$router.push("/login")},logoutHandler:function(){this.$store.dispatch("logoutAction")}}},r=(n(296),n(58)),component=Object(r.a)(o,(function(){var e=this,t=e._self._c;return t("div",[t("b-navbar",{attrs:{toggleable:"lg",type:"light",variant:"light"}},[t("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),e._v(" "),t("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[t("b-navbar-nav",[t("b-nav-item",{attrs:{to:"/home"}},[e._v("Home")]),e._v(" "),t("b-nav-item",{attrs:{to:"/rooms"}},[e._v("Rooms")]),e._v(" "),"admin"===e.navbarMode?t("b-nav-item",{attrs:{to:"/desks"}},[e._v("Desks")]):e._e(),e._v(" "),"admin"===e.navbarMode?t("b-nav-item",{attrs:{to:"/users"}},[e._v("Users")]):e._e(),e._v(" "),"Client"===e.navbarMode?t("b-nav-item",{attrs:{to:"/mydesks"}},[e._v("My desks")]):e._e(),e._v(" "),"room_manager"===e.navbarMode||"admin"===e.navbarMode?t("b-nav-item",{attrs:{to:"/myrooms"}},[e._v("My Rooms")]):e._e()],1),e._v(" "),t("b-navbar-nav",{staticClass:"ml-auto"},["guest"===e.navbarMode?t("div",[t("b-button",{staticClass:"my-2 my-sm-0 mx-2",attrs:{size:"sm",type:"button"},on:{click:function(t){return t.preventDefault(),e.registerHandler.apply(null,arguments)}}},[e._v("Register")]),e._v(" "),t("b-button",{staticClass:"my-2 my-sm-0 mx-2",attrs:{size:"sm",type:"button"},on:{click:function(t){return t.preventDefault(),e.loginHandler.apply(null,arguments)}}},[e._v("Login")])],1):e._e(),e._v(" "),"guest"!==e.navbarMode?t("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("em",[e._v("User")])]},proxy:!0}],null,!1,4258386881)},[e._v(" "),t("b-dropdown-item",{attrs:{to:"/profile"}},[e._v(" Profile")]),e._v(" "),t("b-dropdown-item",{attrs:{to:"/login"},on:{click:e.logoutHandler}},[e._v("Sign Out")])],1):e._e()],1)],1)],1)],1)}),[],!1,null,"6a899ace",null);t.default=component.exports},47:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var o=n(23),r=n(22),l=Object(o.a)((function e(t,n,o,l,c,m,d,f){Object(r.a)(this,e),this.id=c,this.roomNumber=t,this.prize=o,this.size=n,this.position=l,this.isTaken=m||!1,this.rentWeeks=d||0,this.owner=f||""}))}},[[239,25,1,26]]]);